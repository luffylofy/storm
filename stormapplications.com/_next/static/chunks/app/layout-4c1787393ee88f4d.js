(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{6696:function(t,e,n){Promise.resolve().then(n.t.bind(n,9639,23)),Promise.resolve().then(n.t.bind(n,6790,23)),Promise.resolve().then(n.bind(n,8160)),Promise.resolve().then(n.bind(n,3754))},8160:function(t,e,n){"use strict";let r;n.d(e,{Providers:function(){return x}});var a=n(6104),o=n(6811),s=n(3105),u=n(6864),i=n(9494),c=n(7847),l=n(513),d=n(7715),f=n(9103),p=n(9538),h=n(2285);function m(){let{isLogged:t}=(0,f.kP)(),{isLoading:e,data:n}=(0,p.a)(),{isLoading:r,data:a}=(0,i.a)((0,d.AZ)());return(0,u.useEffect)(()=>{c.fv.configure(l.O.NEXT_PUBLIC_CRISP_ID,{safeMode:!0,autoload:!0})},[]),(0,u.useEffect)(()=>{!e&&!r&&a&&n&&(c.fv.user.onEmailChanged(()=>{c.fv.user.getEmail()!==a.email&&window.location.reload()}),c.fv.user.onNicknameChanged(()=>{c.fv.user.getNickname()!==n.username&&window.location.reload()}),c.fv.user.setEmail(a.email),c.fv.user.setAvatar((0,h.Gf)(n.id,n.avatar)),c.fv.user.setNickname(n.username))},[t,e,n,r,a]),null}var v=n(1375),y=n(7480),g=n(655);function _(){return new v.S({defaultOptions:{queries:{staleTime:6e4,refetchOnWindowFocus:!1,retryDelay(t,e){if(e instanceof g.d7){var n;if((null===(n=e.response)||void 0===n?void 0:n.status)===429)return Math.min((t+1)*1e4,15e3)}return Math.min(1e3*2**t,3e4)},retry(t,e){if(e instanceof g.d7){var n,r,a;if([400,401,403,404].includes(null!==(a=null===(n=e.response)||void 0===n?void 0:n.status)&&void 0!==a?a:0))return!1;if((null===(r=e.response)||void 0===r?void 0:r.status)===429)return console.log(t),t<2}return t<=1}}}})}function x(t){let{sessionToken:e,children:n}=t,u=y.sk?_():(r||(r=_()),r);return(0,a.jsx)(s.aH,{client:u,children:(0,a.jsx)(f.Qe,{token:e,children:(0,a.jsxs)(o.ZP.Provider,{children:[n,(0,a.jsx)(m,{})]})})})}},3754:function(t,e,n){"use strict";n.d(e,{Toaster:function(){return y}});var r=n(6104),a=n(8917),o=n(6685),s=n(8131),u=n(6864),i=n(2285);let c=o.zt,l=u.forwardRef((t,e)=>{let{className:n,...a}=t;return(0,r.jsx)(o.l_,{ref:e,className:(0,i.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...a})});l.displayName=o.l_.displayName;let d=(0,s.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full border-neutral-800",{variants:{variant:{default:"border bg-neutral-950 text-neutral-50",destructive:"destructive group border-red-900 bg-red-900 text-neutral-50"}},defaultVariants:{variant:"default"}}),f=u.forwardRef((t,e)=>{let{className:n,variant:a,...s}=t;return(0,r.jsx)(o.fC,{ref:e,className:(0,i.cn)(d({variant:a}),n),...s})});f.displayName=o.fC.displayName,u.forwardRef((t,e)=>{let{className:n,...a}=t;return(0,r.jsx)(o.aU,{ref:e,className:(0,i.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-neutral-800 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-neutral-800 focus:outline-none focus:ring-1 focus:ring-neutral-300 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-neutral-800/40 group-[.destructive]:hover:border-red-900/30 group-[.destructive]:hover:bg-red-900 group-[.destructive]:hover:text-neutral-50 group-[.destructive]:focus:ring-red-900",n),...a})}).displayName=o.aU.displayName;let p=u.forwardRef((t,e)=>{let{className:n,...s}=t;return(0,r.jsx)(o.x8,{ref:e,className:(0,i.cn)("absolute right-1 top-1 rounded-md p-1 text-neutral-50/50 opacity-0 transition-opacity hover:text-neutral-50 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...s,children:(0,r.jsx)(a.Pxu,{className:"h-4 w-4"})})});p.displayName=o.x8.displayName;let h=u.forwardRef((t,e)=>{let{className:n,...a}=t;return(0,r.jsx)(o.Dx,{ref:e,className:(0,i.cn)("text-sm font-semibold [&+div]:text-xs",n),...a})});h.displayName=o.Dx.displayName;let m=u.forwardRef((t,e)=>{let{className:n,...a}=t;return(0,r.jsx)(o.dk,{ref:e,className:(0,i.cn)("text-sm opacity-90",n),...a})});m.displayName=o.dk.displayName;var v=n(1291);function y(){let{toasts:t}=(0,v.pm)();return(0,r.jsxs)(c,{children:[t.map(function(t){let{id:e,title:n,description:a,action:o,...s}=t;return(0,r.jsxs)(f,{...s,children:[(0,r.jsxs)("div",{className:"grid gap-1",children:[n&&(0,r.jsx)(h,{children:n}),a&&(0,r.jsx)(m,{children:a})]}),o,(0,r.jsx)(p,{})]},e)}),(0,r.jsx)(l,{})]})}},9321:function(t,e,n){"use strict";n.d(e,{T5:function(){return o},o6:function(){return a}});var r=n(513);let a="".concat("https","://").concat(r.O.NEXT_PUBLIC_WEBSITE_DOMAIN),o="https://".concat(r.O.NEXT_PUBLIC_API_DOMAIN)},513:function(t,e,n){"use strict";n.d(e,{O:function(){return s}});var r=n(309),a=n(2817),o=n(2787);let s=(0,r.D)({server:{DISCORD_BOT_TOKEN:a.z.string(),DISCORD_BOT_ID:a.z.string()},client:{NEXT_PUBLIC_API_DOMAIN:a.z.string(),NEXT_PUBLIC_WEBSITE_DOMAIN:a.z.string(),NEXT_PUBLIC_CRISP_ID:a.z.string()},runtimeEnv:{NEXT_PUBLIC_API_DOMAIN:"manager.stormapplications.com",NEXT_PUBLIC_WEBSITE_DOMAIN:"stormapplications.com",NEXT_PUBLIC_CRISP_ID:"1547533b-e271-4f67-90dc-1cab837101b7",DISCORD_BOT_TOKEN:o.env.DISCORD_BOT_TOKEN,DISCORD_BOT_ID:o.env.DISCORD_BOT_ID}})},9848:function(t,e,n){"use strict";n.d(e,{h:function(){return o}});var r=n(9771),a=n(9321);let o=r.default.create({baseURL:a.T5})},7715:function(t,e,n){"use strict";n.d(e,{AZ:function(){return i},fn:function(){return u},zp:function(){return s}});var r=n(3216),a=n(9103),o=n(4280);let s=()=>(0,r.C)({queryKey:["status"],queryFn:()=>(0,o.MA)()}),u=t=>(0,r.C)({queryKey:["order",t],queryFn:()=>(0,o.co)(t)}),i=()=>{let t=(0,a.kP)();return(0,r.C)({enabled:!!t.token,queryKey:["user","self"],queryFn:async()=>{let t=await (0,o.qd)();return await (0,o.EA)(t.id)}})}},4280:function(t,e,n){"use strict";n.d(e,{wU:function(){return i},GI:function(){return h},Vl:function(){return _},W4:function(){return g},lT:function(){return w},Rd:function(){return x},yo:function(){return I},b6:function(){return v},wi:function(){return m},AU:function(){return y},rP:function(){return o},OS:function(){return p},G8:function(){return l},iW:function(){return d},LQ:function(){return c},rn:function(){return T},co:function(){return O},KM:function(){return u},mh:function(){return f},xs:function(){return s},MA:function(){return N},EA:function(){return b},qd:function(){return E}});var r=n(9321),a=n(9848);async function o(){let{data:t}=await a.h.get("/apps");return t}async function s(t,e){return a.h.post("/orders/apps/".concat(t,"/renew"),{months:e}).then(t=>{let{data:e}=t;return e})}async function u(t,e){return a.h.post("/orders/apps/".concat(t,"/addons"),{adicionais:e}).then(t=>{let{data:e}=t;return e})}async function i(t){return a.h.get("/apps/".concat(t)).then(t=>{let{data:e}=t;return e})}async function c(t){return a.h.get("/apps/".concat(t,"/servers")).then(t=>{let{data:e}=t;return e})}async function l(t,e){return a.h.delete("/apps/".concat(t,"/servers"),{data:{servers:e}}).then(t=>{let{data:e}=t;return e})}async function d(t){return a.h.get("/apps/".concat(t,"/moderators")).then(t=>{let{data:e}=t;return e})}async function f(t,e){return a.h.post("/apps/".concat(t,"/moderators"),e).then(t=>{let{data:e}=t;return e})}async function p(t,e){return a.h.delete("/apps/".concat(t,"/moderators"),{data:e}).then(t=>{let{data:e}=t;return e})}async function h(t,e){let{data:n}=await a.h.delete("/apps/".concat(t),{data:{reason:e}});return n}async function m(t){let{data:e}=await a.h.post("/apps/".concat(t,"/start"));return e}async function v(t){let{data:e}=await a.h.post("/apps/".concat(t,"/restart"));return e}async function y(t){let{data:e}=await a.h.post("/apps/".concat(t,"/stop"));return e}async function g(t,e){let{data:n}=await a.h.patch("/apps/".concat(t,"/name"),{name:e});return n}async function _(t,e){let{data:n}=await a.h.patch("/apps/".concat(t,"/bio"),{bio:e});return n}async function x(t,e){let{data:n}=await a.h.patch("/apps/".concat(t,"/token"),{token:e});return n}async function w(t,e,n){let{data:r}=await a.h.patch("/apps/".concat(t,"/owner"),{old:e,new:n});return r}async function I(t,e){let{data:n}=await a.h.patch("/apps/".concat(t,"/trusted_user"),{user_id:e});return n}async function N(){return a.h.get("/status").then(t=>{let{data:e}=t;return e})}async function T(t){let{data:e}=await a.h.post("/orders/apps",t);return e}async function O(t){return a.h.get("/orders/".concat(t)).then(t=>{let{data:e}=t;return e})}async function E(){return a.h.get("/users/me").then(t=>{let{data:e}=t;return e})}async function b(t){return a.h.get("".concat(r.o6,"/api/users/").concat(t)).then(t=>{let{data:e}=t;return e})}},9103:function(t,e,n){"use strict";n.d(e,{Qe:function(){return p},kP:function(){return f}});var r=n(6104),a=n(3105),o=n(9494),s=n(655),u=n(9242),i=n(6864),c=n(7715),l=n(9848);let d=(0,i.createContext)({}),f=()=>(0,i.use)(d);function p(t){let{children:e,token:n}=t;n&&(l.h.defaults.headers.common.Authorization=n);let f=(0,a.NL)(),[p,h]=(0,i.useState)(n),m=(0,u.useRouter)(),{error:v}=(0,o.a)({enabled:null!==p,...(0,c.AZ)()}),y=(0,i.useMemo)(()=>null!==p,[p]),g=(0,i.useCallback)(async()=>{m.push("/logout"),h(null),l.h.defaults.headers.common.Authorization=void 0,f.invalidateQueries({queryKey:(0,c.AZ)().queryKey})},[f,m]);return(0,i.useEffect)(()=>{if(v instanceof s.d7){var t,e,n;[403,401].includes(null!==(e=null===(t=v.response)||void 0===t?void 0:t.status)&&void 0!==e?e:0)&&(console.debug("Fazendo o logout devido ao resposta da API: ".concat(null===(n=v.response)||void 0===n?void 0:n.status)),g())}},[v]),(0,r.jsx)(d.Provider,{value:{token:p,isLogged:y,logout:g},children:e})}},1291:function(t,e,n){"use strict";n.d(e,{Am:function(){return d},pm:function(){return f}});var r=n(6864);let a=0,o=new Map,s=t=>{if(o.has(t))return;let e=setTimeout(()=>{o.delete(t),l({type:"REMOVE_TOAST",toastId:t})},1e6);o.set(t,e)},u=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,1)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{let{toastId:n}=e;return n?s(n):t.toasts.forEach(t=>{s(t.id)}),{...t,toasts:t.toasts.map(t=>t.id===n||void 0===n?{...t,open:!1}:t)}}case"REMOVE_TOAST":if(void 0===e.toastId)return{...t,toasts:[]};return{...t,toasts:t.toasts.filter(t=>t.id!==e.toastId)}}},i=[],c={toasts:[]};function l(t){c=u(c,t),i.forEach(t=>{t(c)})}function d(t){let{...e}=t,n=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>l({type:"DISMISS_TOAST",toastId:n});return l({type:"ADD_TOAST",toast:{...e,id:n,open:!0,onOpenChange:t=>{t||r()}}}),{id:n,dismiss:r,update:t=>l({type:"UPDATE_TOAST",toast:{...t,id:n}})}}function f(){let[t,e]=r.useState(c);return r.useEffect(()=>(i.push(e),()=>{let t=i.indexOf(e);t>-1&&i.splice(t,1)}),[t]),{...t,toast:d,dismiss:t=>l({type:"DISMISS_TOAST",toastId:t})}}},9538:function(t,e,n){"use strict";n.d(e,{a:function(){return o}});var r=n(9494),a=n(7715);function o(){return(0,r.a)({...(0,a.AZ)()})}},2285:function(t,e,n){"use strict";n.d(e,{Gf:function(){return s},I3:function(){return c},T4:function(){return i},cn:function(){return o},oE:function(){return u}});var r=n(2892),a=n(8871);function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,a.m6)((0,r.W)(e))}function s(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(null==e?void 0:e.startsWith("a_"))?"gif":"webp";return e?"https://cdn.discordapp.com/avatars/".concat(t,"/").concat(e,".").concat(n):"https://cdn.discordapp.com/embed/avatars/".concat(Number(t)%5,".png")}function u(){let t=new Date().getHours();return t>=5&&t<12?"Bom dia":t>=12&&t<18?"Boa tarde":"Boa noite"}function i(t){return Intl.NumberFormat("pt-BR",{currency:"BRL",style:"currency"}).format(t)}function c(t){return{open:t.visible,onOpenChange:e=>{e?t.show():(t.resolve(),t.remove())}}}},6790:function(){}},function(t){t.O(0,[799,792,324,70,702,245,23,453,349,744],function(){return t(t.s=6696)}),_N_E=t.O()}]);